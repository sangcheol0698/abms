# ABMS 도메인 모델

## [시스템 필드]
시스템 필드는 모든 도메인 엔티티에 공통적으로 적용되는 감사/삭제 정보입니다.
### 속성
- `createdAt`: `LocalDateTime` 엔티티가 생성된 날짜 및 시간
- `updatedAt`: `LocalDateTime` 엔티티 정보가 마지막으로 업데이트된 날짜 및 시간
- `createdBy`: `String` 엔티티를 생성한 사용자의 ID
- `updatedBy`: `String` 마지막으로 업데이트한 사용자의 ID
- `deleted`: `Boolean` 논리 삭제 여부 플래그(기본값 false)
- `deletedAt`: `LocalDateTime` 엔티티가 논리 삭제된 날짜 및 시간
- `deletedBy`: `String` 엔티티를 논리 삭제한 사용자의 ID

## [직원 Aggregate]

## 직원 (Employee)
_Aggregate Root_
### 속성
- `id`: `UUID` 직원의 고유 식별자
- `departmentId`: `UUID` 직원이 속한 부서의 식별자
- `personalInfo`: `PersonalInfo` 직원의 개인 정보
- `employmentInfo`: `EmploymentInfo` 직원의 고용 정보
- `currentSalary`: `Money` 현재 급여 정보
- `positionHistories`: `List<PositionHistory>` 직원의 직급 이력 목록
- `salaryHistories`: `List<SalaryHistory>` 직원의 급여 이력 목록
- `deletedAt`: `LocalDateTime` 직원이 삭제된 날짜 및 시간 (논리 삭제를 위한 필드)
### 행위
- `static create()`: 직원 생성, `personalInfo`, `employmentInfo`, `currentSalary`를 포함
- `promote()`: 직원 승진 처리, `positionHistories`에 새 직급 추가
- `changeSalary()`: 직원 급여 변경 처리, `salaryHistories`에 새 급여 추가
- `changeDepartment()`: 직원 부서 이동 처리
- `takeLeave()`: 직원 휴가 처리
- `resign()`: 직원 사직 처리
- `delete()`: 직원 논리 삭제 처리
### 규칙
- 직원 생성 시 상태는 재직 상태
- 같은 부서 내에서 동일한 이메일은 허용하지 않음
- 퇴사한 직원은 급여 변경, 승진, 부서 이동 불가
- 휴직 중인 직원은 프로젝트 배정 불가
- 급여 변경 및 승진 시 이력이 자동 기록됨

## 개인 정보 (PersonalInfo)
_Value Object_
### 속성
- `name`: `String` 직원의 이름
- `email`: `Email` 직원의 회사 이메일 주소
- `phoneNumber`: `Phone` 직원의 전화번호
- `birthDate`: `LocalDate` 직원의 생년월일

## 고용 정보 (EmploymentInfo)
_Value Object_
### 속성
- `joinDate`: `LocalDate` 직원의 입사 날짜
- `leaveDate`: `LocalDate` 직원의 퇴사 날짜 (퇴사하지 않은 경우 null)
- `position`: `Position` 직원의 현재 직급
- `employmentType`: `EmploymentType` 직원의 고용 형태
- `grade`: `Grade` 직원의 등급
- `status`: `EmployeeStatus` 직원의 현재 상태

## 직급 이력 (PositionHistory)
_Entity_
### 속성
- `id`: `UUID` 직급 이력의 고유 식별자
- `employeeId`: `UUID` 직급 이력이 연결된 직원의 식별자
- `position`: `Position` 직급
- `period`: `Period` 직급 이력 기간 (시작 날짜와 종료 날짜)
- `reason`: `String` 직급 변경 사유 (선택 사항)
### 행위
- `static create()`: 직급 이력 생성, `position`, `startDate`, `endDate`를 포함
- `updateEndDate()`: 직급 이력 종료 날짜 업데이트
### 규칙
- 직급 이력은 항상 현재 직급와 연결되어 있어야 함
- 직급 이력은 직원의 고용 정보와 일치해야 함